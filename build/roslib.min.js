!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){"use strict";function c(a){if(null==a)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}b.exports=Object.assign||function(a){for(var b,d,e=c(a),f=1;f<arguments.length;f++){b=arguments[f],d=Object.keys(Object(b));for(var g=0;g<d.length;g++)e[d[g]]=b[d[g]]}return e}},{}],2:[function(a,b,c){c.XMLSerializer=XMLSerializer,c.DOMParser=DOMParser,c.implementation=document.implementation},{}],3:[function(a,b){var c=this.ROSLIB||{REVISION:"0.11.0-SNAPSHOT"},d=c.Ros=a("./core/Ros");c.Topic=a("./core/Topic"),c.Message=a("./core/Message"),c.Param=a("./core/Param"),c.Service=a("./core/Service"),c.ServiceRequest=a("./core/ServiceRequest"),c.ServiceResponse=a("./core/ServiceResponse"),c.ActionClient=a("./actionlib/ActionClient"),c.Goal=a("./actionlib/Goal"),c.SimpleActionServer=a("./actionlib/SimpleActionServer"),c.Pose=a("./math/Pose"),c.Quaternion=a("./math/Quaternion"),c.Transform=a("./math/Transform"),c.Vector3=a("./math/Vector3"),c.TFClient=a("./tf/TFClient"),c.UrdfBox=a("./urdf/UrdfBox"),c.UrdfColor=a("./urdf/UrdfColor"),c.UrdfCylinder=a("./urdf/UrdfCylinder"),c.UrdfLink=a("./urdf/UrdfLink"),c.UrdfMaterial=a("./urdf/UrdfMaterial"),c.UrdfMesh=a("./urdf/UrdfMesh"),c.UrdfModel=a("./urdf/UrdfModel"),c.UrdfSphere=a("./urdf/UrdfSphere"),c.UrdfVisual=a("./urdf/UrdfVisual"),a("object-assign")(c,a("./urdf/UrdfTypes")),["ActionClient","Param","Service","SimpleActionServer","Topic","TFClient"].forEach(function(a){var b=c[a];d.prototype[a]=function(a){return a.ros=this,new b(a)}}),b.exports=c},{"./actionlib/ActionClient":5,"./actionlib/Goal":6,"./actionlib/SimpleActionServer":7,"./core/Message":8,"./core/Param":9,"./core/Ros":10,"./core/Service":11,"./core/ServiceRequest":12,"./core/ServiceResponse":13,"./core/Topic":15,"./math/Pose":16,"./math/Quaternion":17,"./math/Transform":18,"./math/Vector3":19,"./tf/TFClient":20,"./urdf/UrdfBox":21,"./urdf/UrdfColor":22,"./urdf/UrdfCylinder":23,"./urdf/UrdfLink":24,"./urdf/UrdfMaterial":25,"./urdf/UrdfMesh":26,"./urdf/UrdfModel":27,"./urdf/UrdfSphere":28,"./urdf/UrdfTypes":29,"./urdf/UrdfVisual":30,"object-assign":1}],4:[function(a){(function(b){b.ROSLIB=a("./RosLib")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./RosLib":3}],5:[function(a,b){function c(a){var b=this;a=a||{},this.ros=a.ros,this.serverName=a.serverName,this.actionName=a.actionName,this.timeout=a.timeout,this.goals={};var c=!1,e=new d({ros:this.ros,name:this.serverName+"/feedback",messageType:this.actionName+"Feedback"}),f=new d({ros:this.ros,name:this.serverName+"/status",messageType:"actionlib_msgs/GoalStatusArray"}),g=new d({ros:this.ros,name:this.serverName+"/result",messageType:this.actionName+"Result"});this.goalTopic=new d({ros:this.ros,name:this.serverName+"/goal",messageType:this.actionName+"Goal"}),this.cancelTopic=new d({ros:this.ros,name:this.serverName+"/cancel",messageType:"actionlib_msgs/GoalID"}),this.goalTopic.advertise(),this.cancelTopic.advertise(),f.subscribe(function(a){c=!0,a.status_list.forEach(function(a){var c=b.goals[a.goal_id.id];c&&c.emit("status",a)})}),e.subscribe(function(a){var c=b.goals[a.status.goal_id.id];c&&(c.emit("status",a.status),c.emit("feedback",a.feedback))}),g.subscribe(function(a){var c=b.goals[a.status.goal_id.id];c&&(c.emit("status",a.status),c.emit("result",a.result))}),this.timeout&&setTimeout(function(){c||b.emit("timeout")},this.timeout)}var d=a("../core/Topic"),e=a("../core/Message"),f=a("./../util/shim/EventEmitter2.js").EventEmitter2;c.prototype.__proto__=f.prototype,c.prototype.cancel=function(){var a=new e;this.cancelTopic.publish(a)},b.exports=c},{"../core/Message":8,"../core/Topic":15,"./../util/shim/EventEmitter2.js":32}],6:[function(a,b){function c(a){var b=this;this.actionClient=a.actionClient,this.goalMessage=a.goalMessage,this.isFinished=!1;var c=new Date;this.goalID="goal_"+Math.random()+"_"+c.getTime(),this.goalMessage=new d({goal_id:{stamp:{secs:0,nsecs:0},id:this.goalID},goal:this.goalMessage}),this.on("status",function(a){b.status=a}),this.on("result",function(a){b.isFinished=!0,b.result=a}),this.on("feedback",function(a){b.feedback=a}),this.actionClient.goals[this.goalID]=this}var d=a("../core/Message"),e=a("./../util/shim/EventEmitter2.js").EventEmitter2;c.prototype.__proto__=e.prototype,c.prototype.send=function(a){var b=this;b.actionClient.goalTopic.publish(b.goalMessage),a&&setTimeout(function(){b.isFinished||b.emit("timeout")},a)},c.prototype.cancel=function(){var a=new d({id:this.goalID});this.actionClient.cancelTopic.publish(a)},b.exports=c},{"../core/Message":8,"./../util/shim/EventEmitter2.js":32}],7:[function(a,b){function c(a){var b=this;a=a||{},this.ros=a.ros,this.serverName=a.serverName,this.actionName=a.actionName,this.feedbackPublisher=new d({ros:this.ros,name:this.serverName+"/feedback",messageType:this.actionName+"Feedback"}),this.feedbackPublisher.advertise();var c=new d({ros:this.ros,name:this.serverName+"/status",messageType:"actionlib_msgs/GoalStatusArray"});c.advertise(),this.resultPublisher=new d({ros:this.ros,name:this.serverName+"/result",messageType:this.actionName+"Result"}),this.resultPublisher.advertise();var f=new d({ros:this.ros,name:this.serverName+"/goal",messageType:this.actionName+"Goal"}),g=new d({ros:this.ros,name:this.serverName+"/cancel",messageType:"actionlib_msgs/GoalID"});this.statusMessage=new e({header:{stamp:{secs:0,nsecs:100},frame_id:""},status_list:[]}),this.currentGoal=null,this.nextGoal=null,f.subscribe(function(a){b.currentGoal?(b.nextGoal=a,b.emit("cancel")):(b.statusMessage.status_list=[{goal_id:a.goal_id,status:1}],b.currentGoal=a,b.emit("goal",a.goal))});var h=function(a,b){return a.secs>b.secs?!1:a.secs<b.secs?!0:a.nsecs<b.nsecs?!0:!1};g.subscribe(function(a){0===a.stamp.secs&&0===a.stamp.secs&&""===a.id?(b.nextGoal=null,b.currentGoal&&b.emit("cancel")):(b.currentGoal&&a.id===b.currentGoal.goal_id.id?b.emit("cancel"):b.nextGoal&&a.id===b.nextGoal.goal_id.id&&(b.nextGoal=null),b.nextGoal&&h(b.nextGoal.goal_id.stamp,a.stamp)&&(b.nextGoal=null),b.currentGoal&&h(b.currentGoal.goal_id.stamp,a.stamp)&&b.emit("cancel"))});setInterval(function(){var a=new Date,d=Math.floor(a.getTime()/1e3),e=Math.round(1e9*(a.getTime()/1e3-d));b.statusMessage.header.stamp.secs=d,b.statusMessage.header.stamp.nsecs=e,c.publish(b.statusMessage)},500)}var d=a("../core/Topic"),e=a("../core/Message"),f=a("./../util/shim/EventEmitter2.js").EventEmitter2;c.prototype.__proto__=f.prototype,c.prototype.setSucceeded=function(a){var b=new e({status:{goal_id:this.currentGoal.goal_id,status:3},result:a});this.resultPublisher.publish(b),this.statusMessage.status_list=[],this.nextGoal?(this.currentGoal=this.nextGoal,this.nextGoal=null,this.emit("goal",this.currentGoal.goal)):this.currentGoal=null},c.prototype.sendFeedback=function(a){var b=new e({status:{goal_id:this.currentGoal.goal_id,status:1},feedback:a});this.feedbackPublisher.publish(b)},c.prototype.setPreempted=function(){this.statusMessage.status_list=[];var a=new e({status:{goal_id:this.currentGoal.goal_id,status:2}});this.resultPublisher.publish(a),this.nextGoal?(this.currentGoal=this.nextGoal,this.nextGoal=null,this.emit("goal",this.currentGoal.goal)):this.currentGoal=null},b.exports=c},{"../core/Message":8,"../core/Topic":15,"./../util/shim/EventEmitter2.js":32}],8:[function(a,b){function c(a){d(this,a)}var d=a("object-assign");b.exports=c},{"object-assign":1}],9:[function(a,b){function c(a){a=a||{},this.ros=a.ros,this.name=a.name}var d=a("./Service"),e=a("./ServiceRequest");c.prototype.get=function(a){var b=new d({ros:this.ros,name:"/rosapi/get_param",serviceType:"rosapi/GetParam"}),c=new e({name:this.name});b.callService(c,function(b){var c=JSON.parse(b.value);a(c)})},c.prototype.set=function(a,b){var c=new d({ros:this.ros,name:"/rosapi/set_param",serviceType:"rosapi/SetParam"}),f=new e({name:this.name,value:JSON.stringify(a)});c.callService(f,b)},c.prototype["delete"]=function(a){var b=new d({ros:this.ros,name:"/rosapi/delete_param",serviceType:"rosapi/DeleteParam"}),c=new e({name:this.name});b.callService(c,a)},b.exports=c},{"./Service":11,"./ServiceRequest":12}],10:[function(a,b){function c(a){a=a||{},this.socket=null,this.idCounter=0,this.isConnected=!1,this.groovyCompatibility="undefined"==typeof a.groovyCompatibility?!0:a.groovyCompatibility,this.setMaxListeners(0),a.url&&(this.socketio=-1!==a.url.indexOf("http"),this.connect(a.url))}var d=a("./../util/shim/WebSocket.js"),e=a("./SocketAdapter.js"),f=a("./Service"),g=a("./ServiceRequest"),h=a("object-assign"),i=a("./../util/shim/EventEmitter2.js").EventEmitter2;c.prototype.__proto__=i.prototype,c.prototype.connect=function(a){"undefined"!=typeof io&&this.socketio?(this.socket=h(io(a,{"force new connection":!0}),e(this)),this.socket.on("connect",this.socket.onopen),this.socket.on("data",this.socket.onmessage),this.socket.on("close",this.socket.onclose),this.socket.on("error",this.socket.onerror)):this.socket=h(new d(a),e(this))},c.prototype.close=function(){this.socket&&this.socket.close()},c.prototype.authenticate=function(a,b,c,d,e,f,g){var h={op:"auth",mac:a,client:b,dest:c,rand:d,t:e,level:f,end:g};this.callOnConnection(h)},c.prototype.callOnConnection=function(a){var b=this,c=JSON.stringify(a),d=null;d="undefined"!=typeof io&&this.socketio?function(a){b.socket.emit("operation",a)}:function(a){b.socket.send(a)},this.isConnected?d(c):b.once("connection",function(){d(c)})},c.prototype.getTopics=function(a){var b=new f({ros:this,name:"/rosapi/topics",serviceType:"rosapi/Topics"}),c=new g;b.callService(c,function(b){a(b.topics)})},c.prototype.getServices=function(a){var b=new f({ros:this,name:"/rosapi/services",serviceType:"rosapi/Services"}),c=new g;b.callService(c,function(b){a(b.services)})},c.prototype.getNodes=function(a){var b=new f({ros:this,name:"/rosapi/nodes",serviceType:"rosapi/Nodes"}),c=new g;b.callService(c,function(b){a(b.nodes)})},c.prototype.getParams=function(a){var b=new f({ros:this,name:"/rosapi/get_param_names",serviceType:"rosapi/GetParamNames"}),c=new g;b.callService(c,function(b){a(b.names)})},c.prototype.getTopicType=function(a,b){var c=new f({ros:this,name:"/rosapi/topic_type",serviceType:"rosapi/TopicType"}),d=new g({topic:a});c.callService(d,function(a){b(a.type)})},c.prototype.getMessageDetails=function(a,b){var c=new f({ros:this,name:"/rosapi/message_details",serviceType:"rosapi/MessageDetails"}),d=new g({type:a});c.callService(d,function(a){b(a.typedefs)})},c.prototype.decodeTypeDefs=function(a){var b=this,c=function(a,d){for(var e={},f=0;f<a.fieldnames.length;f++){var g=a.fieldarraylen[f],h=a.fieldnames[f],i=a.fieldtypes[f];if(-1===i.indexOf("/"))e[h]=-1===g?i:[i];else{for(var j=!1,k=0;k<d.length;k++)if(d[k].type.toString()===i.toString()){j=d[k];break}if(j){var l=c(j,d);e[h]=-1===g?l:[l]}else b.emit("error","Cannot find "+i+" in decodeTypeDefs")}}return e};return c(a[0],a)},b.exports=c},{"./../util/shim/EventEmitter2.js":32,"./../util/shim/WebSocket.js":33,"./Service":11,"./ServiceRequest":12,"./SocketAdapter.js":14,"object-assign":1}],11:[function(a,b){function c(a){a=a||{},this.ros=a.ros,this.name=a.name,this.serviceType=a.serviceType}var d=a("./ServiceResponse");c.prototype.callService=function(a,b,c){var e="call_service:"+this.name+":"+ ++this.ros.idCounter;(b||c)&&this.ros.once(e,function(a){void 0!==a.result&&a.result===!1?"function"==typeof c&&c(a.values):"function"==typeof b&&b(new d(a.values))});var f={op:"call_service",id:e,service:this.name,args:a};this.ros.callOnConnection(f)},b.exports=c},{"./ServiceResponse":13}],12:[function(a,b){function c(a){d(this,a)}var d=a("object-assign");b.exports=c},{"object-assign":1}],13:[function(a,b){function c(a){d(this,a)}var d=a("object-assign");b.exports=c},{"object-assign":1}],14:[function(a,b){(function(c){"use strict";function d(a,b){var c=new g;c.onload=function(){var a=new f,d=a.getContext("2d");a.width=c.width,a.height=c.height,d.drawImage(c,0,0);for(var e=d.getImageData(0,0,c.width,c.height).data,g="",h=0;h<e.length;h+=4)g+=String.fromCharCode(e[h],e[h+1],e[h+2]);b(JSON.parse(g))},c.src="data:image/png;base64,"+a.data}function e(a){function b(b){"publish"===b.op?a.emit(b.topic,b.msg):"service_response"===b.op&&a.emit(b.id,b)}return{onopen:function(b){a.isConnected=!0,a.emit("connection",b)},onclose:function(b){a.isConnected=!1,a.emit("close",b)},onerror:function(b){a.emit("error",b)},onmessage:function(a){var c=JSON.parse("string"==typeof a?a:a.data);"png"===c.op?d(c,b):b(c)}}}{var f=a("./../util/shim/canvas.js"),g=f.Image||c.Image;a("./../util/shim/WebSocket.js")}b.exports=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../util/shim/WebSocket.js":33,"./../util/shim/canvas.js":34}],15:[function(a,b){function c(a){a=a||{},this.ros=a.ros,this.name=a.name,this.messageType=a.messageType,this.isAdvertised=!1,this.compression=a.compression||"none",this.throttle_rate=a.throttle_rate||0,this.latch=a.latch||!1,this.queue_size=a.queue_size||100,this.compression&&"png"!==this.compression&&"none"!==this.compression&&this.emit("warning",this.compression+" compression is not supported. No compression will be used."),this.throttle_rate<0&&(this.emit("warning",this.throttle_rate+" is not allowed. Set to 0"),this.throttle_rate=0);var b=this;this._messageCallback=function(a){b.emit("message",new e(a))}}var d=a("./../util/shim/EventEmitter2.js").EventEmitter2,e=a("./Message");c.prototype.__proto__=d.prototype,c.prototype.subscribe=function(a){"function"==typeof a&&this.on("message",a),this.subscribeId||(this.ros.on(this.name,this._messageCallback),this.subscribeId="subscribe:"+this.name+":"+ ++this.ros.idCounter,this.ros.callOnConnection({op:"subscribe",id:this.subscribeId,type:this.messageType,topic:this.name,compression:this.compression,throttle_rate:this.throttle_rate}))},c.prototype.unsubscribe=function(a){a&&(this.off("message",a),this.listeners("message").length)||this.subscribeId&&(this.ros.off(this.name,this._messageCallback),this.emit("unsubscribe"),this.ros.callOnConnection({op:"unsubscribe",id:this.subscribeId,topic:this.name}),this.subscribeId=null)},c.prototype.advertise=function(){this.isAdvertised||(this.advertiseId="advertise:"+this.name+":"+ ++this.ros.idCounter,this.ros.callOnConnection({op:"advertise",id:this.advertiseId,type:this.messageType,topic:this.name,latch:this.latch,queue_size:this.queue_size}),this.isAdvertised=!0)},c.prototype.unadvertise=function(){this.isAdvertised&&(this.emit("unadvertise"),this.ros.callOnConnection({op:"unadvertise",id:this.advertiseId,topic:this.name}),this.isAdvertised=!1)},c.prototype.publish=function(a){this.isAdvertised||this.advertise(),this.ros.idCounter++;var b={op:"publish",id:"publish:"+this.name+":"+this.ros.idCounter,topic:this.name,msg:a,latch:this.latch};this.ros.callOnConnection(b)},b.exports=c},{"./../util/shim/EventEmitter2.js":32,"./Message":8}],16:[function(a,b){function c(a){a=a||{},this.position=new d(a.position),this.orientation=new e(a.orientation)}var d=a("./Vector3"),e=a("./Quaternion");c.prototype.applyTransform=function(a){this.position.multiplyQuaternion(a.rotation),this.position.add(a.translation);var b=a.rotation.clone();b.multiply(this.orientation),this.orientation=b},c.prototype.clone=function(){return new c(this)},b.exports=c},{"./Quaternion":17,"./Vector3":19}],17:[function(a,b){function c(a){a=a||{},this.x=a.x||0,this.y=a.y||0,this.z=a.z||0,this.w="number"==typeof a.w?a.w:1}c.prototype.conjugate=function(){this.x*=-1,this.y*=-1,this.z*=-1},c.prototype.normalize=function(){var a=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);0===a?(this.x=0,this.y=0,this.z=0,this.w=1):(a=1/a,this.x=this.x*a,this.y=this.y*a,this.z=this.z*a,this.w=this.w*a)},c.prototype.invert=function(){this.conjugate(),this.normalize()},c.prototype.multiply=function(a){var b=this.x*a.w+this.y*a.z-this.z*a.y+this.w*a.x,c=-this.x*a.z+this.y*a.w+this.z*a.x+this.w*a.y,d=this.x*a.y-this.y*a.x+this.z*a.w+this.w*a.z,e=-this.x*a.x-this.y*a.y-this.z*a.z+this.w*a.w;this.x=b,this.y=c,this.z=d,this.w=e},c.prototype.clone=function(){return new c(this)},b.exports=c},{}],18:[function(a,b){function c(a){a=a||{},this.translation=new d(a.translation),this.rotation=new e(a.rotation)}var d=a("./Vector3"),e=a("./Quaternion");c.prototype.clone=function(){return new c(this)},b.exports=c},{"./Quaternion":17,"./Vector3":19}],19:[function(a,b){function c(a){a=a||{},this.x=a.x||0,this.y=a.y||0,this.z=a.z||0}c.prototype.add=function(a){this.x+=a.x,this.y+=a.y,this.z+=a.z},c.prototype.subtract=function(a){this.x-=a.x,this.y-=a.y,this.z-=a.z},c.prototype.multiplyQuaternion=function(a){var b=a.w*this.x+a.y*this.z-a.z*this.y,c=a.w*this.y+a.z*this.x-a.x*this.z,d=a.w*this.z+a.x*this.y-a.y*this.x,e=-a.x*this.x-a.y*this.y-a.z*this.z;this.x=b*a.w+e*-a.x+c*-a.z-d*-a.y,this.y=c*a.w+e*-a.y+d*-a.x-b*-a.z,this.z=d*a.w+e*-a.z+b*-a.y-c*-a.x},c.prototype.clone=function(){return new c(this)},b.exports=c},{}],20:[function(a,b){function c(a){a=a||{},this.ros=a.ros,this.fixedFrame=a.fixedFrame||"/base_link",this.angularThres=a.angularThres||2,this.transThres=a.transThres||.01,this.rate=a.rate||10,this.updateDelay=a.updateDelay||50;var b=a.topicTimeout||2,c=Math.floor(b),d=Math.floor(1e9*(b-c));this.topicTimeout={secs:c,nsecs:d},this.currentGoal=!1,this.currentTopic=!1,this.frameInfos={},this.republisherUpdateRequested=!1,this.actionClient=this.ros.ActionClient({serverName:"/tf2_web_republisher",actionName:"tf2_web_republisher/TFSubscriptionAction"}),this.serviceClient=this.ros.Service({name:"/republish_tfs",serviceType:"tf2_web_republisher/RepublishTFs"})}var d=(a("../actionlib/ActionClient"),a("../actionlib/Goal")),e=(a("../core/Service.js"),a("../core/ServiceRequest.js")),f=a("../math/Transform");c.prototype.processTFArray=function(a){a.transforms.forEach(function(a){var b=a.child_frame_id.trimLeft("/"),c=this.frameInfos[b];c&&(c.transform=new f({translation:a.transform.translation,rotation:a.transform.rotation}),c.cbs.forEach(function(a){a(c.transform)}))},this)},c.prototype.updateGoal=function(){var a={source_frames:Object.keys(this.frameInfos),target_frame:this.fixedFrame,angular_thres:this.angularThres,trans_thres:this.transThres,rate:this.rate};if(this.ros.groovyCompatibility)this.currentGoal&&this.currentGoal.cancel(),this.currentGoal=new d({actionClient:this.actionClient,goalMessage:a}),this.currentGoal.on("feedback",this.processTFArray.bind(this)),this.currentGoal.send();else{a.timeout=this.topicTimeout;var b=new e(a);this.serviceClient.callService(b,this.processResponse.bind(this))}this.republisherUpdateRequested=!1},c.prototype.processResponse=function(a){this.currentTopic&&this.currentTopic.unsubscribe(),this.currentTopic=this.ros.Topic({name:a.topic_name,messageType:"tf2_web_republisher/TFArray"}),this.currentTopic.subscribe(this.processTFArray.bind(this))},c.prototype.subscribe=function(a,b){a=a.trimLeft("/"),this.frameInfos[a]?this.frameInfos[a].transform&&b(this.frameInfos[a].transform):(this.frameInfos[a]={cbs:[]},this.republisherUpdateRequested||(setTimeout(this.updateGoal.bind(this),this.updateDelay),this.republisherUpdateRequested=!0)),this.frameInfos[a].cbs.push(b)},c.prototype.unsubscribe=function(a,b){a=a.trimLeft("/");for(var c=this.frameInfos[a],d=c&&c.cbs||[],e=d.length;e--;)d[e]===b&&d.splice(e,1);b&&0!==d.length||delete this.frameInfos[a]},b.exports=c},{"../actionlib/ActionClient":5,"../actionlib/Goal":6,"../core/Service.js":11,"../core/ServiceRequest.js":12,"../math/Transform":18}],21:[function(a,b){function c(a){this.dimension=null,this.type=e.URDF_BOX;var b=a.xml.getAttribute("size").split(" ");this.dimension=new d({x:parseFloat(b[0]),y:parseFloat(b[1]),z:parseFloat(b[2])})}var d=a("../math/Vector3"),e=a("./UrdfTypes");b.exports=c},{"../math/Vector3":19,"./UrdfTypes":29}],22:[function(a,b){function c(a){var b=a.xml.getAttribute("rgba").split(" ");this.r=parseFloat(b[0]),this.g=parseFloat(b[1]),this.b=parseFloat(b[2]),this.a=parseFloat(b[3])}b.exports=c},{}],23:[function(a,b){function c(a){this.type=d.URDF_CYLINDER,this.length=parseFloat(a.xml.getAttribute("length")),this.radius=parseFloat(a.xml.getAttribute("radius"))}var d=a("./UrdfTypes");b.exports=c},{"./UrdfTypes":29}],24:[function(a,b){function c(a){this.name=a.xml.getAttribute("name");var b=a.xml.getElementsByTagName("visual");b.length>0&&(this.visual=new d({xml:b[0]}))}var d=a("./UrdfVisual");b.exports=c},{"./UrdfVisual":30}],25:[function(a,b){function c(a){this.textureFilename=null,this.color=null,this.name=a.xml.getAttribute("name");var b=a.xml.getElementsByTagName("texture");b.length>0&&(this.textureFilename=b[0].getAttribute("filename"));var c=a.xml.getElementsByTagName("color");c.length>0&&(this.color=new d({xml:c[0]}))}var d=a("./UrdfColor");b.exports=c},{"./UrdfColor":22}],26:[function(a,b){function c(a){this.scale=null,this.type=e.URDF_MESH,this.filename=a.xml.getAttribute("filename");var b=a.xml.getAttribute("scale");if(b){var c=b.split(" ");this.scale=new d({x:parseFloat(c[0]),y:parseFloat(c[1]),z:parseFloat(c[2])})}}var d=a("../math/Vector3"),e=a("./UrdfTypes");b.exports=c},{"../math/Vector3":19,"./UrdfTypes":29}],27:[function(a,b){function c(a){a=a||{};var b=a.xml,c=a.string;if(this.materials={},this.links={},c){var h=new f;b=h.parseFromString(c,"text/xml")}var i=b.evaluate("//robot",b,null,g,null).singleNodeValue;this.name=i.getAttribute("name");for(var j=i.childNodes,k=0;k<j.length;k++){var l=j[k];if("material"===l.tagName){var m=new d({xml:l});void 0!==this.materials[m.name]?console.warn("Material "+m.name+"is not unique."):this.materials[m.name]=m}else if("link"===l.tagName){var n=new e({xml:l});void 0!==this.links[n.name]?console.warn("Link "+n.name+" is not unique."):(n.visual&&n.visual.material&&(void 0!==this.materials[n.visual.material.name]?n.visual.material=this.materials[n.visual.material.name]:this.materials[n.visual.material.name]=n.visual.material),this.links[n.name]=n)}}}var d=a("./UrdfMaterial"),e=a("./UrdfLink"),f=a("../util/DOMParser"),g=9;b.exports=c},{"../util/DOMParser":31,"./UrdfLink":24,"./UrdfMaterial":25}],28:[function(a,b){function c(a){this.type=d.URDF_SPHERE,this.radius=parseFloat(a.xml.getAttribute("radius"))}var d=a("./UrdfTypes");b.exports=c},{"./UrdfTypes":29}],29:[function(a,b){b.exports={URDF_SPHERE:0,URDF_BOX:1,URDF_CYLINDER:2,URDF_MESH:3}},{}],30:[function(a,b){function c(a){var b=a.xml;this.origin=null,this.geometry=null,this.material=null;var c=b.getElementsByTagName("origin");if(0===c.length)this.origin=new d;else{var l=c[0].getAttribute("xyz"),m=new e;l&&(l=l.split(" "),m=new e({x:parseFloat(l[0]),y:parseFloat(l[1]),z:parseFloat(l[2])}));var n=c[0].getAttribute("rpy"),o=new f;if(n){n=n.split(" ");var p=parseFloat(n[0]),q=parseFloat(n[1]),r=parseFloat(n[2]),s=p/2,t=q/2,u=r/2,v=Math.sin(s)*Math.cos(t)*Math.cos(u)-Math.cos(s)*Math.sin(t)*Math.sin(u),w=Math.cos(s)*Math.sin(t)*Math.cos(u)+Math.sin(s)*Math.cos(t)*Math.sin(u),x=Math.cos(s)*Math.cos(t)*Math.sin(u)-Math.sin(s)*Math.sin(t)*Math.cos(u),y=Math.cos(s)*Math.cos(t)*Math.cos(u)+Math.sin(s)*Math.sin(t)*Math.sin(u);o=new f({x:v,y:w,z:x,w:y}),o.normalize()}this.origin=new d({position:m,orientation:o})}var z=b.getElementsByTagName("geometry");if(z.length>0){for(var A=z[0],B=null,C=0;C<A.childNodes.length;C++){var D=A.childNodes[C];if(1===D.nodeType){B=D;break}}var E=B.nodeName;"sphere"===E?this.geometry=new k({xml:B}):"box"===E?this.geometry=new h({xml:B}):"cylinder"===E?this.geometry=new g({xml:B}):"mesh"===E?this.geometry=new j({xml:B}):console.warn("Unknown geometry type "+E)}var F=b.getElementsByTagName("material");F.length>0&&(this.material=new i({xml:F[0]}))}var d=a("../math/Pose"),e=a("../math/Vector3"),f=a("../math/Quaternion"),g=a("./UrdfCylinder"),h=a("./UrdfBox"),i=a("./UrdfMaterial"),j=a("./UrdfMesh"),k=a("./UrdfSphere");b.exports=c},{"../math/Pose":16,"../math/Quaternion":17,"../math/Vector3":19,"./UrdfBox":21,"./UrdfCylinder":23,"./UrdfMaterial":25,"./UrdfMesh":26,"./UrdfSphere":28}],31:[function(a,b){b.exports=a("xmlshim").DOMParser},{xmlshim:2}],32:[function(a,b){(function(a){b.exports={EventEmitter2:a.EventEmitter2}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],33:[function(a,b){(function(a){b.exports=a.WebSocket}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],34:[function(a,b){b.exports=function(){return document.createElement("canvas")}},{}]},{},[4]);